<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Factory Walk Tour</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- A-Frame -->
  <script src="https://aframe.io/releases/1.7.1/aframe.min.js"></script>
</head>

<body style="margin:0; overflow:hidden;">
  <a-scene background="color: #bcd6e8">

    <!-- ASSETS -->
    <a-assets>
      <a-asset-item id="factoryModel" src="factory.glb" crossorigin="anonymous"></a-asset-item>
    </a-assets>

    <!-- LUZ -->
    <a-light type="ambient" intensity="1.2"></a-light>
    <a-light type="directional" position="10 20 10" intensity="1.2"></a-light>

    <!-- CHÃO -- QUANDO O GLB JA TIVER O CHÃO, NÃO PRECISA DESSA LINHA -->
    <!--CODIGO ABAIXO E UM PRESET PARA CHAO, SE O GLB NÃO TIVER CHAO, DESCOMENTE ESSA LINHA -->
    <a-plane
      rotation="-90 0 0"
      width="200"
      height="200"
      color="#999"
      position="0 0 0">
    </a-plane>

  -->

    <!-- FÁBRICA -->
    <a-entity
      gltf-model="#factoryModel"
      scale="5 5 5"
      position="0 0 0">
    </a-entity>

    <!-- CÂMERA COM CAMINHADA -->
     
    <a-camera
      id="camera"
      position="0 1.6 10"
      look-controls
      wasd-controls="acceleration: 20">
      <a-cursor></a-cursor>
    </a-camera>

  </a-scene>

    <script>
      document.addEventListener('DOMContentLoaded', () => {
        const entity = document.querySelector('[gltf-model="#factoryModel"]');
        if (entity) {
          entity.addEventListener('model-error', ev => console.error('GLTF error:', ev.detail));
          entity.addEventListener('model-loaded', () => console.log('Model loaded'));
        } else {
          console.warn('Entity with gltf-model="#factoryModel" not found');
        }
      });
    </script>
</html>
